{
  "title": "readUnread",
  "$id": "https://commongateway.nl/mapping/core.readUnread.mapping.json",
  "$schema": "https://docs.commongateway.nl/schemas/Mapping.schema.json",
  "version": "0.0.1",
  "passTrough": false,
  "mapping": {
    "sourceObject": "{{ sourceObject|json_encode }}",
    "dateRead": "{% if readObject.dateRead|default === false %}null{% elseif readObject.dateRead|default and readObject.dateRead|date('U') < readObject.dateModified|date('U') %}null{% elseif readObject.dateRead|default and readObject.dateRead|date('U') > readObject.dateModified|date('U') %}{{ readObject.dateRead }}{% endif %}"
  },
  "cast": {
    "sourceObject": "jsonToArray",
    "dateRead": "nullStringToNull"
  }
}
